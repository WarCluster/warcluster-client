function matrixToArray(a){return a.substr(7,a.length-8).split(", ")}function easeOutBack(a,b,c,d,e){return void 0==e&&(e=1.70158),c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}function slideout(a,b){function c(){if(n=Date.now()-g,m)$(".itemslide_slideoutwrap").translate3d(0,h-easeOutBack(n,0,h-f,250,0)),a.savedSlide.css("opacity",k-easeOutBack(n,0,k-0,250,0)*(l?-1:1));else{if(l)return $(".itemslide_slideoutwrap").children().unwrap(),$(".itemslide_move").children().unwrap(),isExplorer&&a.children().css("height",""),a.end_animation=!0,void(n=0);$(".itemslide_move").translate3d(0-easeOutBack(n-250,0,0+a.savedSlide.width(),125,0)*(p?-1:1))}return 1==o&&($(".itemslide_slideoutwrap").children().unwrap(),a.savedSlideIndex==a.data("vars").currentIndex&&$(".itemslide_move").children(":nth-child(1)").attr("class","itemslide-active"),a.savedSlideIndex!=a.children().length-1||p||a.savedSlideIndex!=a.data("vars").currentIndex||(b.duration=200,a.gotoSlide(a.children().length-2)),0==a.savedSlideIndex&&0!=a.data("vars").currentIndex&&(n=500),o=-1),n>=250&&(m=!1,-1!=o&&(o=1),n>=375)?($(".itemslide_move").children().unwrap(),a.removeSlide(d.index()),(0==a.savedSlideIndex&&0!=a.data("vars").currentIndex||p)&&a.gotoWithoutAnimation(a.data("vars").currentIndex-1),b.duration=j,n=0,void(a.end_animation=!0)):void(i=requestAnimationFrame(c))}var d,e,f=-400,g=Date.now(),h=0,i=0,j=0,k=0;a.end_animation=!0;var l=!1;a.swipeOut=function(){h=$(".itemslide_slideoutwrap").translate3d().y,e=0>h,f=e?-400:400,Math.abs(0-h)<50?(l=!0,f=0):(l=!1,a.trigger({type:"swipeout",slide:a.savedSlideIndex})),o=0,j=b.duration,d=a.savedSlide,g=Date.now(),k=a.savedSlide.css("opacity"),a.savedSlideIndex<a.data("vars").currentIndex?(p=!0,a.children(":nth-child(-n+"+(a.savedSlideIndex+1)+")").wrapAll("<div class='itemslide_move' />")):(p=!1,a.children(":nth-child(n+"+(a.savedSlideIndex+2)+")").wrapAll("<div class='itemslide_move' />")),m=!0,a.end_animation=!1,i=requestAnimationFrame(c)};var m=!0,n=0,o=0,p=!1}var isExplorer=!1||!!document.documentMode;$(function(){"use strict";$.fn.itemslide=function(a){function b(a){if("touchmove"==a.type?(t=null==$.fn.jquery?a.changedTouches[0]:a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],Math.abs(t.pageX-v)>10&&(x=1),x&&a.preventDefault()):(t=a,a.preventDefault()),l=-(t.pageX-v)>0?1:-1,f()?z&&(A=t.pageX,z=0):(z||(q.currentLandPos=q.translate3d().x,v=t.pageX),z=1),1==B&&(isExplorer&&q.children().css("height",q.data("vars").slideHeight),q.savedSlide.wrapAll("<div class='itemslide_slideoutwrap' />"),B=-1),Math.abs(t.pageX-v)>6&&(!o&&q.end_animation&&(p=!0),cancelAnimationFrame(k)),Math.abs(t.pageY-w)>6&&!p&&q.end_animation&&(o=!0),p){if(s.disable_slide)return;o=!1,q.translate3d((0==z?A-v+(t.pageX-A)/4:t.pageX-v)+q.currentLandPos),q.trigger("changePos"),q.trigger("pan")}else o&&s.swipe_out&&(a.preventDefault(),$(".itemslide_slideoutwrap").translate3d(0,t.pageY-w),-1!=B&&(B=1))}function c(a){q.children(":nth-child("+(q.data("vars").currentIndex+1||0)+")").attr("class",""),q.children(":nth-child("+(a+1||0)+")").attr("class","itemslide-active"),a!=s.currentIndex&&(q.data("vars").currentIndex=a,q.trigger("changeActiveIndex"))}function d(a){for(var b=0;b<q.children("li").length;b++)if(q.children().cwidth()*b+q.children().cwidth()/2-q.children().cwidth()*s.pan_threshold*l-e(0)>a)return s.one_item?b!=q.data("vars").currentIndex?q.data("vars").currentIndex+1*l:q.data("vars").currentIndex:b;return s.one_item?q.data("vars").currentIndex+1:q.children("li").length-1}function e(a){return-(a*q.children().cwidth()-(q.parent().cwidth()-i-q.children().cwidth())/2)}function f(){return Math.floor(q.translate3d().x)>e(0)&&-1==l||Math.ceil(q.translate3d().x)<e(q.children("li").length-1)&&1==l}function g(a){a>=q.children("li").length-1||0>=a?(m=!0,a=Math.min(Math.max(a,0),q.children("li").length-1)):m=!1,c(a),E=Math.max(s.duration-1920/$(window).width()*Math.abs(q.data("vars").velocity)*9*(s.duration/230)-(f()?n/15:0)*(s.duration/230),50),D=m?250*Math.abs(q.data("vars").velocity)/$(window).width():0,j=q.translate3d().x,q.currentLandPos=e(a),cancelAnimationFrame(k),F=Date.now(),k=requestAnimationFrame(h)}function h(){var a=Date.now()-F;return q.trigger("changePos"),q.translate3d(j-easeOutBack(a,0,j-q.currentLandPos,E,D)),a>=E?void q.translate3d(q.currentLandPos):void(k=requestAnimationFrame(h))}var i=0,j=0,k=0,l=0,m=!1,n=0,o=!1,p=!1,q=this,r={duration:350,swipe_sensitivity:150,disable_slide:!1,disable_clicktoslide:!1,disable_scroll:!1,start:0,one_item:!1,pan_threshold:.3,disable_autowidth:!1,parent_width:!1,swipe_out:!1},s=$.extend({},r,a);s.parent_width&&q.children().width(q.parent().cwidth()),this.data("vars",{currentIndex:0,disable_autowidth:s.disable_autowidth,parent_width:s.parent_width,velocity:0,slideHeight:q.children().height()}),q.end_animation=!0,s.swipe_out&&slideout(q,s),i=parseInt(q.css("left").replace("px","")),q.css({"touch-action":"pan-y","-webkit-user-select":"none","-webkit-touch-callout":"none","-webkit-user-drag":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),s.disable_autowidth||q.css("width",q.children("li").length*q.children().cwidth()+10),q.translate3d(0),g(s.start);var t,u=!1,v=0,w=0,x=!1,y=0;q.savedSlideIndex=0,q.on("mousedown touchstart","li",function(a){t="touchstart"==a.type?null==$.fn.jquery?a.changedTouches[0]:a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:a,q.end_animation&&(y=Date.now(),u=1,x=0,v=t.pageX,w=t.pageY,o=!1,p=!1,q.savedSlide=$(this),q.savedSlideIndex=q.savedSlide.index(),B=0,$(window).on("mousemove touchmove",b),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty())});var z=!0,A=0,B=0;$(window).on("mouseup touchend",function(a){if(u){if(t="touchend"==a.type?null==$.fn.jquery?a.changedTouches[0]:a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:a,u=!1,$(window).off("mousemove touchmove"),o&&s.swipe_out)return void q.swipeOut();if(q.end_animation&&!s.disable_slide){var b=Date.now()-y;if(q.data("vars").velocity=-(t.pageX-v)/b,l=q.data("vars").velocity>0?1:-1,n=(t.pageX-v)*l*-1,(t.pageX-v)*l<-6)return void g(d(q.data("vars").velocity*s.swipe_sensitivity-q.translate3d().x))}q.savedSlide.index()==q.data("vars").currentIndex||s.disable_clicktoslide||(a.preventDefault(),g(q.savedSlide.index()))}});try{q.mousewheel(function(a){if(!s.disable_scroll){q.data("vars").velocity=0;var b=q.data("vars").currentIndex-a.deltaY;if(b>=q.children("li").length||0>b)return;g(b),a.preventDefault()}})}catch(C){}q.on("gotoSlide",function(a,b){g(b)});var D=0,E=s.duration,F=Date.now();q.gotoWithoutAnimation=function(a){q.data("vars").currentIndex=a,q.currentLandPos=e(a),q.translate3d(e(a))}},$.fn.gotoSlide=function(a){this.trigger("gotoSlide",a)},$.fn.next=function(){this.gotoSlide(this.data("vars").currentIndex+1)},$.fn.previous=function(){this.gotoSlide(this.data("vars").currentIndex-1)},$.fn.reload=function(){this.data("vars").parent_width&&this.children().width(this.parent().cwidth()),this.data("vars").disable_autowidth||this.css("width",this.children("li").length*this.children().cwidth()+10),this.data("vars").slideHeight=this.children().height(),this.data("vars").velocity=0,this.gotoSlide(this.data("vars").currentIndex)},$.fn.addSlide=function(a){this.append("<li>"+a+"</li>"),this.reload()},$.fn.removeSlide=function(a){this.children(":nth-child("+(a+1||0)+")").remove()},$.fn.getActiveIndex=function(){return this.data("vars").currentIndex},$.fn.getCurrentPos=function(){return this.translate3d().x},$.fn.translate3d=function(a,b){if(null==a){var c=matrixToArray(this.css("transform"));if(null!=$.fn.jquery)return{x:parseFloat(isExplorer?c[12]:c[4]),y:parseFloat(isExplorer?c[13]:c[5])};var d=this.css("transform").replace("translate3d","").replace("(","").replace(")","").replace(" ","").replace("px","").split(",");return{x:parseFloat(d[0]),y:parseFloat(d[1])}}this.css("transform","translate3d("+a+"px,"+(b||0)+"px, 0px)")},$.fn.cwidth=function(){return parseInt(this.css("width").replace("px",""))}});